{% extends 'base.html.twig' %}

{% block title %}Nouveau compte{% endblock %}

{% block body %}
<main class="main_connexion">
  <div>
    <h1 class="créer_compte text-center">Créez votre compte</h1>
    <p class="para_compte text-center fw-bold text-light">
      Veuillez remplir le formulaire ci-dessous pour créer votre compte
    </p>

    {# رسالة نجاح (Flash) إن وجدت #}
    {% for message in app.flashes('success') %}
      <div class="alert alert-success w-75 mx-auto">
        {{ message }}
      </div>
    {% endfor %}

    {{ form_start(registrationForm, { 'attr': { 'class': 'form_contact' } }) }}

      <div class="mb-2">
        {{ form_label(registrationForm.nom) }}<br>
        {{ form_widget(registrationForm.nom, { 'attr': { 'class': 'w-75' } }) }}
        {{ form_errors(registrationForm.nom) }}
      </div>

      <div class="mb-2">
        {{ form_label(registrationForm.prenom) }}<br>
        {{ form_widget(registrationForm.prenom, { 'attr': { 'class': 'w-75' } }) }}
        {{ form_errors(registrationForm.prenom) }}
      </div>

      <div class="mb-2">
        {{ form_label(registrationForm.telephone) }}<br>
        {{ form_widget(registrationForm.telephone, { 'attr': { 'class': 'w-75' } }) }}
        {{ form_errors(registrationForm.telephone) }}
      </div>

      <div class="mb-2">
        {{ form_label(registrationForm.email) }}<br>
        {{ form_widget(registrationForm.email, { 'attr': { 'class': 'w-75' } }) }}
        {{ form_errors(registrationForm.email) }}
      </div>

      <div class="mb-2">
        {# هذا field هو RepeatedType (كلمتا مرور) #}
        {{ form_row(registrationForm.plainPassword.first, { 'attr': { 'class': 'w-75' } }) }}
        {{ form_row(registrationForm.plainPassword.second, { 'attr': { 'class': 'w-75' } }) }}
      </div>

      <div class="mb-3">
        <label class="lable_checkbox">
          {{ form_widget(registrationForm.agreeTerms) }}
          J'accepte les conditions d'utilisation
        </label>
        {{ form_errors(registrationForm.agreeTerms) }}
      </div>

      <button class="button-cours w-50 mx-auto text-center mt-1" type="submit">
        S'inscrire
      </button>

    {{ form_end(registrationForm) }}

  </div>
</main>
{% endblock %}
